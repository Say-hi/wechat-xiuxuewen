{"version":3,"sources":["storePage/pagesstore/messagePage/message/message.js"],"names":["app","getApp","Page","data","messageArr","t","n","getMessage","that","wxrequest","url","getUrl","teacherUserMessage","user_id","gs","id","success","res","wx","hideLoading","status","sys_notice","collect","video_msg","setData","setToast","content","desc","onLoad","setBar","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA,IAAMA,MAAMC,QAAZ;;AAEA;AACAC,KAAK;AACH;;;AAGAC,QAAM;AACJC,gBAAY,CACV;AACEC,SAAG,MADL;AAEEC,SAAG;AAFL,KADU,EAKV;AACED,SAAG,IADL;AAEEC,SAAG;AAFL,KALU,EASV;AACED,SAAG,IADL;AAEEC,SAAG;AAFL,KATU;AADR,GAJH;AAoBHC,YApBG,wBAoBW;AACZ,QAAIC,OAAO,IAAX;AACAR,QAAIS,SAAJ,CAAc;AACZC,WAAKV,IAAIW,MAAJ,GAAaC,kBADN;AAEZT,YAAM;AACJU,iBAASb,IAAIc,EAAJ,CAAO,aAAP,EAAsBC;AAD3B,OAFM;AAKZC,aALY,mBAKHC,GALG,EAKE;AACZC,WAAGC,WAAH;AACA,YAAIF,IAAId,IAAJ,CAASiB,MAAT,KAAoB,GAAxB,EAA6B;AAC3BZ,eAAKL,IAAL,CAAUC,UAAV,CAAqB,CAArB,EAAwBE,CAAxB,GAA4BW,IAAId,IAAJ,CAASA,IAAT,CAAckB,UAA1C;AACAb,eAAKL,IAAL,CAAUC,UAAV,CAAqB,CAArB,EAAwBE,CAAxB,GAA4BW,IAAId,IAAJ,CAASA,IAAT,CAAcmB,OAA1C;AACAd,eAAKL,IAAL,CAAUC,UAAV,CAAqB,CAArB,EAAwBE,CAAxB,GAA4BW,IAAId,IAAJ,CAASA,IAAT,CAAcoB,SAA1C;AACAf,eAAKgB,OAAL,CAAa;AACXpB,wBAAYI,KAAKL,IAAL,CAAUC;AADX,WAAb;AAGD,SAPD,MAOO;AACLJ,cAAIyB,QAAJ,CAAajB,IAAb,EAAmB,EAACkB,SAAST,IAAId,IAAJ,CAASwB,IAAnB,EAAnB;AACD;AACF;AAjBW,KAAd;AAmBD,GAzCE;;AA0CH;;;AAGAC,QA7CG,oBA6CO;AACR5B,QAAI6B,MAAJ,CAAW,MAAX;AACA,SAAKtB,UAAL;AACA;AACD,GAjDE;;;AAmDH;;;AAGAuB,SAtDG,qBAsDQ;AACT;AACD,GAxDE;;;AA0DH;;;AAGAC,QA7DG,oBA6DO;AACR;AACD,GA/DE;;;AAiEH;;;AAGAC,QApEG,oBAoEO;AACR;AACD,GAtEE;;;AAwEH;;;AAGAC,UA3EG,sBA2ES;AACV;AACD,GA7EE;;;AA+EH;;;AAGAC,mBAlFG,+BAkFkB;AACnB;AACD;AApFE,CAAL","file":"message.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    messageArr: [\n      {\n        t: '系统通知',\n        n: 0\n      },\n      {\n        t: '评论',\n        n: 0\n      },\n      {\n        t: '收藏',\n        n: 0\n      }\n    ]\n  },\n  getMessage () {\n    let that = this\n    app.wxrequest({\n      url: app.getUrl().teacherUserMessage,\n      data: {\n        user_id: app.gs('userInfoAll').id\n      },\n      success (res) {\n        wx.hideLoading()\n        if (res.data.status === 200) {\n          that.data.messageArr[0].n = res.data.data.sys_notice\n          that.data.messageArr[2].n = res.data.data.collect\n          that.data.messageArr[1].n = res.data.data.video_msg\n          that.setData({\n            messageArr: that.data.messageArr\n          })\n        } else {\n          app.setToast(that, {content: res.data.desc})\n        }\n      }\n    })\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    app.setBar('我的消息')\n    this.getMessage()\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}