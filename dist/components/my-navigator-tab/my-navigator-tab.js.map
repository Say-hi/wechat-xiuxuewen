{"version":3,"sources":["components/my-navigator-tab/my-navigator-tab.js"],"names":["app","getApp","Component","externalClasses","properties","navData","type","Array","value","data","lifetimes","created","attached","ready","_getData","detached","methods","upFormId","e","_goUrl","bottomTabIndex","currentTarget","dataset","index","that","gs","currentPage","getCurrentPages","store","length","route","indexOf","v","setData","wxrequest","url","getUrl","style","success","res","wx","hideLoading","su"],"mappings":";;AAAA;AACA,IAAMA,MAAMC,QAAZ;AACAC,UAAU;AACRC,mBAAiB,CAAC,MAAD,EAAS,SAAT,CADT;AAERC,cAAY;AACVC,aAAS;AACPC,YAAMC,KADC;AAEPC,aAAO;AAFA;AADC,GAFJ;AAQRC,QAAM;AACJJ,aAAS;AADL,GARE;AAWRK,aAAW;AACTC,WADS,qBACE,CAEV,CAHQ;AAITC,YAJS,sBAIG;AACV;AACD,KANQ;AAOTC,SAPS,mBAOA;AACP,WAAKC,QAAL;AACD,KATQ;AAUTC,YAVS,sBAUG;AACV;AACD;AAZQ,GAXH;AAyBRC,WAAS;AACPC,YADO,oBACGC,CADH,EACM;AACXlB,UAAIiB,QAAJ,CAAaC,CAAb;AACD,KAHM;AAIPC,UAJO,kBAICD,CAJD,EAII;AACTlB,UAAIS,IAAJ,CAASW,cAAT,GAA0BF,EAAEG,aAAF,CAAgBC,OAAhB,CAAwBC,KAAlD;AACD,KANM;AAOPT,YAPO,sBAOK;AACV,UAAIU,OAAO,IAAX;AACA,UAAInB,UAAUL,IAAIyB,EAAJ,CAAO,WAAP,CAAd;AACA,UAAIC,cAAcC,iBAAlB;AACA,UAAIC,QAAQ,KAAZ;AACA,UAAIF,YAAYA,YAAYG,MAAZ,GAAqB,CAAjC,EAAoCC,KAApC,CAA0CC,OAA1C,CAAkD,WAAlD,KAAkE,CAAtE,EAAyE;AACvEH,gBAAQ,IAAR;AACAvB,kBAAUL,IAAIyB,EAAJ,CAAO,gBAAP,CAAV;AACAzB,YAAIS,IAAJ,CAASW,cAAT,GAA0BM,YAAYA,YAAYG,MAAZ,GAAqB,CAAjC,EAAoCC,KAApC,CAA0CC,OAA1C,CAAkD,OAAlD,KAA8D,CAA9D,GAAkE,CAAlE,GAAsE,CAAhG;AACD;AACD,UAAI1B,OAAJ,EAAa;AAAA;AAAA;AAAA;;AAAA;AACX,+BAAcA,OAAd,8HAAuB;AAAA,gBAAd2B,CAAc;;AACrBA,cAAE,QAAF,IAAc,KAAd;AACD;AAHU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIX3B,gBAAQL,IAAIS,IAAJ,CAASW,cAAjB,EAAiC,QAAjC,IAA6C,IAA7C;AACAI,aAAKS,OAAL,CAAa;AACX5B;AADW,SAAb;AAGD,OARD,MAQO;AACLL,YAAIkC,SAAJ,CAAc;AACZC,eAAKnC,IAAIoC,MAAJ,GAAaC,KADN;AAEZ5B,gBAAM;AACJ4B,mBAAOT,QAAQ,CAAR,GAAY;AADf,WAFM;AAKZU,iBALY,mBAKHC,GALG,EAKE;AACZC,eAAGC,WAAH;AACAzC,gBAAI0C,EAAJ,CAAOd,QAAQ,gBAAR,GAA2B,WAAlC,EAA+CW,IAAI9B,IAAJ,CAASA,IAAxD;AACA8B,gBAAI9B,IAAJ,CAASA,IAAT,CAAcT,IAAIS,IAAJ,CAASW,cAAvB,EAAuC,QAAvC,IAAmD,IAAnD;AACAI,iBAAKS,OAAL,CAAa;AACX5B,uBAASkC,IAAI9B,IAAJ,CAASA;AADP,aAAb;AAGD;AAZW,SAAd;AAcD;AACF;AAzCM;AAzBD,CAAV","file":"my-navigator-tab.js","sourcesContent":["// components/component-tag-name.js\r\nconst app = getApp()\r\nComponent({\r\n  externalClasses: ['mask', 'mask-in'],\r\n  properties: {\r\n    navData: {\r\n      type: Array,\r\n      value: []\r\n    }\r\n  },\r\n  data: {\r\n    navData: []\r\n  },\r\n  lifetimes: {\r\n    created () {\r\n\r\n    },\r\n    attached () {\r\n      // 在组件实例进入页面节点树时执行\r\n    },\r\n    ready () {\r\n      this._getData()\r\n    },\r\n    detached () {\r\n      // 在组件实例被从页面节点树移除时执行\r\n    }\r\n  },\r\n  methods: {\r\n    upFormId (e) {\r\n      app.upFormId(e)\r\n    },\r\n    _goUrl (e) {\r\n      app.data.bottomTabIndex = e.currentTarget.dataset.index\r\n    },\r\n    _getData () {\r\n      let that = this\r\n      let navData = app.gs('bottomNav')\r\n      let currentPage = getCurrentPages()\r\n      let store = false\r\n      if (currentPage[currentPage.length - 1].route.indexOf('storePage') >= 0) {\r\n        store = true\r\n        navData = app.gs('storeBottomNav')\r\n        app.data.bottomTabIndex = currentPage[currentPage.length - 1].route.indexOf('index') >= 0 ? 0 : 1\r\n      }\r\n      if (navData) {\r\n        for (let v of navData) {\r\n          v['active'] = false\r\n        }\r\n        navData[app.data.bottomTabIndex]['active'] = true\r\n        that.setData({\r\n          navData\r\n        })\r\n      } else {\r\n        app.wxrequest({\r\n          url: app.getUrl().style,\r\n          data: {\r\n            style: store ? 4 : 1\r\n          },\r\n          success (res) {\r\n            wx.hideLoading()\r\n            app.su(store ? 'storeBottomNav' : 'bottomNav', res.data.data)\r\n            res.data.data[app.data.bottomTabIndex]['active'] = true\r\n            that.setData({\r\n              navData: res.data.data\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n})\r\n"]}