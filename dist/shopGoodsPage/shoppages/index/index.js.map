{"version":3,"sources":["shopGoodsPage/shoppages/index/index.js"],"names":["app","getApp","Page","data","selectAll","img","testImg","list","num","price","image","title","tabIndex","goEdit","e","wx","navigateTo","url","tabChoose","setData","currentTarget","dataset","index","setBar","del","newList","v","push","choose","checkAll","that","str","onShareAppMessage","gs","mid","t","path","imageUrl","g","name","avatar","id","onLoad","options","type","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":"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","file":"index.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    selectAll: -1, // -2 全选中\n    img: app.data.testImg,\n    list: [\n      {\n        num: 1,\n        price: '22.00',\n        image: app.data.testImg,\n        title: '我是视频标题我是视频标题我是视频标题'\n      },\n      {\n        num: 1,\n        price: '222.00',\n        image: app.data.testImg,\n        title: '我是视频标题'\n      }\n    ],\n    tabIndex: 0\n  },\n  goEdit (e) {\n    wx.navigateTo({\n      url: '/shopEditPage/shoppages/index/index'\n    })\n  },\n  tabChoose (e) {\n    this.setData({\n      tabIndex: e.currentTarget.dataset.index * 1\n    }, this.setBar)\n  },\n  del () {\n    let newList = []\n    for (let v of this.data.list) {\n      if (!v['choose']) newList.push(v)\n    }\n    this.setData({\n      list: newList\n    })\n  },\n  choose (e) {\n    if (e.currentTarget.dataset.index < 0) this.checkAll()\n    let that = this\n    let str = `list[${e.currentTarget.dataset.index}].choose`\n    this.setData({\n      [str]: !that.data.list[e.currentTarget.dataset.index].choose\n    }, that.checkAll)\n  },\n  checkAll (e) {\n    let that = this\n    if (e) {\n      for (let v of this.data.list) {\n        v['choose'] = this.data.selectAll === -1\n      }\n      this.data.selectAll = this.data.selectAll === -1 ? -2 : -1\n    } else {\n      this.data.selectAll = -2\n      for (let v of this.data.list) {\n        if (!v['choose']) this.data.selectAll = -1\n      }\n    }\n    this.setData({\n      list: that.data.list,\n      selectAll: that.data.selectAll\n    })\n  },\n  onShareAppMessage () {\n    if (!app.gs('shopInfo').mid) {\n      return {\n        title: app.gs('shareText').t || '绣学问，真纹绣',\n        path: `/pages/index/index`,\n        imageUrl: app.gs('shareText').g\n      }\n    } else {\n      return {\n        title: `向您推荐店铺【${app.gs('shopInfoAll').name}】`,\n        imageUrl: `${app.gs('shopInfoAll').avatar || ''}`,\n        path: `/shopPage/shoppages/index/index?mid=${app.gs('shopInfoAll').id}`\n      }\n    }\n  },\n  setBar () {\n    if (this.data.tabIndex === 0) app.setBar('出售中的商品')\n    else if (this.data.tabIndex === 1) app.setBar('仓库中的商品')\n    else if (this.data.tabIndex === 2) app.setBar('库存紧张的商品')\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad (options) {\n    this.setData({\n      tabIndex: options.type * 1\n    }, this.setBar)\n\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}