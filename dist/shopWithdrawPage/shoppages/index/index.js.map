{"version":3,"sources":["shopWithdrawPage/shoppages/index/index.js"],"names":["app","getApp","Page","data","img","testImg","upFormId","e","inputValue","console","log","setData","outMoney","detail","value","profit","shopUserCash","that","setToast","content","wxrequest","url","getUrl","uid","gs","id","amount","success","res","wx","hideLoading","status","showToast","title","desc","shopUserFund","mall_total_fee","showScroll","showS","back","navigateBack","onShareAppMessage","mid","t","path","imageUrl","g","name","avatar","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA,IAAMA,MAAMC,QAAZ;;AAEA;AACAC,KAAK;AACH;;;AAGAC,QAAM;AACJC,SAAKJ,IAAIG,IAAJ,CAASE;AADV,GAJH;AAOHC,UAPG,oBAOOC,CAPP,EAOU;AACXP,QAAIM,QAAJ,CAAaC,CAAb;AACD,GATE;AAUHC,YAVG,sBAUSD,CAVT,EAUY;AACbE,YAAQC,GAAR,CAAYH,CAAZ;AACA,SAAKI,OAAL,CAAa;AACXC,gBAAUL,EAAEM,MAAF,CAASC,KAAT,GAAiB,CAAjB,IAAsB,KAAKX,IAAL,CAAUY,MAAhC,GAAyC,KAAKZ,IAAL,CAAUY,MAAV,GAAmB,CAA5D,GAAgER,EAAEM,MAAF,CAASC,KAAT,GAAiB;AADhF,KAAb;AAGD,GAfE;AAgBHE,cAhBG,0BAgBa;AACd,QAAIC,OAAO,IAAX;AACA,QAAI,CAAC,KAAKd,IAAL,CAAUS,QAAX,IAAuB,KAAKT,IAAL,CAAUS,QAAV,GAAqB,CAAhD,EAAmD,OAAOZ,IAAIkB,QAAJ,CAAa,IAAb,EAAmB,EAACC,SAAS,UAAV,EAAnB,CAAP;AACnDnB,QAAIoB,SAAJ,CAAc;AACZC,WAAKrB,IAAIsB,MAAJ,GAAaN,YADN;AAEZb,YAAM;AACJoB,aAAKvB,IAAIwB,EAAJ,CAAO,aAAP,EAAsBC,EADvB;AAEJC,gBAAQT,KAAKd,IAAL,CAAUS;AAFd,OAFM;AAMZe,aANY,mBAMHC,GANG,EAME;AACZC,WAAGC,WAAH;AACA,YAAIF,IAAIzB,IAAJ,CAAS4B,MAAT,KAAoB,GAAxB,EAA6B;AAC3BF,aAAGG,SAAH,CAAa;AACXC,mBAAO;AADI,WAAb;AAGD,SAJD,MAIO;AACLjC,cAAIkB,QAAJ,CAAaD,IAAb,EAAmB,EAACE,SAASS,IAAIzB,IAAJ,CAAS+B,IAAnB,EAAnB;AACD;AACF;AAfW,KAAd;AAiBD,GApCE;AAqCHC,cArCG,0BAqCa;AACd,QAAIlB,OAAO,IAAX;AACAjB,QAAIoB,SAAJ,CAAc;AACZC,WAAKrB,IAAIsB,MAAJ,GAAaa,YADN;AAEZhC,YAAM;AACJoB,aAAKvB,IAAIwB,EAAJ,CAAO,aAAP,EAAsBC;AADvB,OAFM;AAKZE,aALY,mBAKHC,GALG,EAKE;AACZC,WAAGC,WAAH;AACA,YAAIF,IAAIzB,IAAJ,CAAS4B,MAAT,KAAoB,GAAxB,EAA6B;AAC3Bd,eAAKN,OAAL,CAAa;AACXI,oBAAQa,IAAIzB,IAAJ,CAASA,IAAT,CAAciC;AADX,WAAb;AAGD,SAJD,MAIO;AACLpC,cAAIkB,QAAJ,CAAaD,IAAb,EAAmB,EAACE,SAASS,IAAIzB,IAAJ,CAAS+B,IAAnB,EAAnB;AACD;AACF;AAdW,KAAd;AAgBD,GAvDE;AAwDHG,YAxDG,wBAwDW;AACZ,SAAK1B,OAAL,CAAa;AACX2B,aAAO,CAAC,KAAKnC,IAAL,CAAUmC;AADP,KAAb;AAGD,GA5DE;AA6DHC,MA7DG,kBA6DK;AACNV,OAAGW,YAAH;AACD,GA/DE;AAgEHC,mBAhEG,+BAgEkB;AACnB,QAAI,CAACzC,IAAIwB,EAAJ,CAAO,UAAP,EAAmBkB,GAAxB,EAA6B;AAC3B,aAAO;AACLT,eAAOjC,IAAIwB,EAAJ,CAAO,WAAP,EAAoBmB,CAApB,IAAyB,SAD3B;AAELC,kCAFK;AAGLC,kBAAU7C,IAAIwB,EAAJ,CAAO,WAAP,EAAoBsB;AAHzB,OAAP;AAKD,KAND,MAMO;AACL,aAAO;AACLb,8DAAiBjC,IAAIwB,EAAJ,CAAO,aAAP,EAAsBuB,IAAvC,WADK;AAELF,wBAAa7C,IAAIwB,EAAJ,CAAO,aAAP,EAAsBwB,MAAtB,IAAgC,EAA7C,CAFK;AAGLJ,uDAA6C5C,IAAIwB,EAAJ,CAAO,aAAP,EAAsBC;AAH9D,OAAP;AAKD;AACF,GA9EE;;AA+EH;;;AAGAwB,QAlFG,oBAkFO;AACR;AACD,GApFE;;;AAsFH;;;AAGAC,SAzFG,qBAyFQ;AACT;AACD,GA3FE;;;AA6FH;;;AAGAC,QAhGG,oBAgGO;AACR,SAAKhB,YAAL;AACA;AACD,GAnGE;;;AAqGH;;;AAGAiB,QAxGG,oBAwGO;AACR;AACD,GA1GE;;;AA4GH;;;AAGAC,UA/GG,sBA+GS;AACV;AACD,GAjHE;;;AAmHH;;;AAGAC,mBAtHG,+BAsHkB;AACnB;AACD;AAxHE,CAAL","file":"index.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    img: app.data.testImg\n  },\n  upFormId (e) {\n    app.upFormId(e)\n  },\n  inputValue (e) {\n    console.log(e)\n    this.setData({\n      outMoney: e.detail.value * 1 >= this.data.profit ? this.data.profit * 1 : e.detail.value * 1\n    })\n  },\n  shopUserCash () {\n    let that = this\n    if (!this.data.outMoney || this.data.outMoney < 1) return app.setToast(this, {content: '最小提现额度为1'})\n    app.wxrequest({\n      url: app.getUrl().shopUserCash,\n      data: {\n        uid: app.gs('userInfoAll').id,\n        amount: that.data.outMoney\n      },\n      success (res) {\n        wx.hideLoading()\n        if (res.data.status === 200) {\n          wx.showToast({\n            title: '提现成功'\n          })\n        } else {\n          app.setToast(that, {content: res.data.desc})\n        }\n      }\n    })\n  },\n  shopUserFund () {\n    let that = this\n    app.wxrequest({\n      url: app.getUrl().shopUserFund,\n      data: {\n        uid: app.gs('userInfoAll').id\n      },\n      success (res) {\n        wx.hideLoading()\n        if (res.data.status === 200) {\n          that.setData({\n            profit: res.data.data.mall_total_fee\n          })\n        } else {\n          app.setToast(that, {content: res.data.desc})\n        }\n      }\n    })\n  },\n  showScroll () {\n    this.setData({\n      showS: !this.data.showS\n    })\n  },\n  back () {\n    wx.navigateBack()\n  },\n  onShareAppMessage () {\n    if (!app.gs('shopInfo').mid) {\n      return {\n        title: app.gs('shareText').t || '绣学问，真纹绣',\n        path: `/pages/index/index`,\n        imageUrl: app.gs('shareText').g\n      }\n    } else {\n      return {\n        title: `向您推荐店铺【${app.gs('shopInfoAll').name}】`,\n        imageUrl: `${app.gs('shopInfoAll').avatar || ''}`,\n        path: `/shopPage/shoppages/index/index?mid=${app.gs('shopInfoAll').id}`\n      }\n    }\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    this.shopUserFund()\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}