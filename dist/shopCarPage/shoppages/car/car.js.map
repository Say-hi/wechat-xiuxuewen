{"version":3,"sources":["shopCarPage/shoppages/car/car.js"],"names":["app","getApp","Page","data","selectAll","totalMoney","totalCount","img","testImg","list","num","price","image","title","del","newList","v","push","setData","edit","choose","e","currentTarget","dataset","index","checkAll","that","str","numOperation","type","calculate","submit","wx","navigateTo","url","noUse","playVideo","play","playIndex","onShareAppMessage","info","share_title","imageUrl","share_imageUrl","path","gs","id","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":"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","file":"car.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    selectAll: -1, // -2 全选中\n    totalMoney: 0,\n    totalCount: 0,\n    img: app.data.testImg,\n    list: [\n      {\n        num: 1,\n        price: '22.00',\n        image: app.data.testImg,\n        title: '我是视频标题我是视频标题我是视频标题'\n      },\n      {\n        num: 1,\n        price: '222.00',\n        image: app.data.testImg,\n        title: '我是视频标题'\n      },\n      {\n        num: 1,\n        price: '22.00',\n        image: app.data.testImg,\n        title: '我是视频标题我是视频标题我是视频标题'\n      },\n      {\n        num: 1,\n        price: '222.00',\n        image: app.data.testImg,\n        title: '我是视频标题'\n      },\n      {\n        num: 1,\n        price: '22.00',\n        image: app.data.testImg,\n        title: '我是视频标题我是视频标题我是视频标题'\n      },\n      {\n        num: 1,\n        price: '222.00',\n        image: app.data.testImg,\n        title: '我是视频标题'\n      }\n    ]\n  },\n  del () {\n    let newList = []\n    for (let v of this.data.list) {\n      if (!v['choose']) newList.push(v)\n    }\n    this.setData({\n      list: newList\n    })\n  },\n  edit () {\n    for (let v of this.data.list) {\n      v['choose'] = false\n    }\n    this.setData({\n      list: this.data.list,\n      selectAll: -1,\n      del: !this.data.del,\n      totalMoney: 0,\n      totalCount: 0\n    })\n  },\n  choose (e) {\n    if (e.currentTarget.dataset.index < 0) this.checkAll()\n    let that = this\n    let str = `list[${e.currentTarget.dataset.index}].choose`\n    this.setData({\n      [str]: !that.data.list[e.currentTarget.dataset.index].choose\n    }, that.checkAll)\n  },\n  numOperation (e) {\n    let that = this\n    let type = e.currentTarget.dataset.type\n    let str = `list[${e.currentTarget.dataset.index}].num`\n    if (type === 'add') {\n      ++that.data.list[e.currentTarget.dataset.index].num\n    } else {\n      if (that.data.list[e.currentTarget.dataset.index].num <= 1) return\n      --that.data.list[e.currentTarget.dataset.index].num\n    }\n    this.setData({\n      [str]: that.data.list[e.currentTarget.dataset.index].num\n    }, that.calculate)\n  },\n  checkAll (e) {\n    let that = this\n    if (e) {\n      for (let v of this.data.list) {\n        v['choose'] = this.data.selectAll === -1\n      }\n      this.data.selectAll = this.data.selectAll === -1 ? -2 : -1\n    } else {\n      this.data.selectAll = -2\n      for (let v of this.data.list) {\n        if (!v['choose']) this.data.selectAll = -1\n      }\n    }\n    this.setData({\n      list: that.data.list,\n      selectAll: that.data.selectAll\n    }, that.calculate)\n  },\n  calculate () {\n    let totalMoney = 0\n    let totalCount = 0\n    for (let v of this.data.list) {\n      if (v['choose']) {\n        totalMoney += v.price * v.num\n        totalCount += v.num * 1\n      }\n    }\n    this.setData({\n      totalMoney,\n      totalCount\n    })\n  },\n  submit () {\n    wx.navigateTo({\n      url: '/shopListPage/shoplistpages/submit/submit'\n    })\n  },\n  noUse () {\n    app.noUse()\n  },\n  playVideo (e) {\n    let that = this\n    this.setData({\n      play: !that.data.play,\n      playIndex: e.currentTarget.dataset.index\n    })\n  },\n  onShareAppMessage () {\n    let that = this\n    return {\n      title: `${that.data.info.share_title || '邀请您入驻绣学问，成为优秀的纹绣人'}`,\n      imageUrl: `${that.data.info.share_imageUrl || ''}`,\n      path: `/enteringPage/pagestwelve/entering/entering?id=${app.gs('userInfoAll').id}`\n    }\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}